---
icon: "🍥"
title: "@supabase/ssrとRemixでGoogle認証を行う"
date: 2025-01-03T00:00:00
description: "@supabase/ssrとRemixでGoogle認証を行う"
category: "supabase"
tags:
  - cloudflare
  - remix
  - cloudflare
---
## はじめに
@supabase/ssrを用いて、SSRでのSupabase認証が出来るようになったため、設定手順を備忘録的に残します。  

前提として、Google CloudとSupabaseのプロジェクトは作成済みの想定です。  
また、今回利用するパッケージのバージョンは以下の通りとなり、@supabase/ssrは現時点でBataである点にご注意ください。    
| パッケージ | バージョン |
| ---- | ---- |
| @supabase/ssr | 0.5.2 |
| @supabase/supabase-js | 2.47.10 |

GitHubレポジトリはこちらです！  
<ExLinkCard url="https://github.com/sori883/remix_auth_with_supabasessr" />  

※この記事は下記スクラップの内容をブログに起こしたものです。  
<ExLinkCard url="https://zenn.dev/sorinaji/scraps/53d2ab1a57e3ae" />  


## Remixプロジェクトの作成
今回はCloudflare公式のRemix on Cloudflare Workersのテンプレートに導入していきます。  
<ExLinkCard url="https://developers.cloudflare.com/workers/frameworks/framework-guides/remix/" />  

テンプレートを使用してRemixプロジェクトを作成します。  

```
pnpm create cloudflare@latest remix-supabasessr --framework=remix --experimental
```

テンプレート作成後、必要なパッケージを追加しておきます。  

```
pnpm add @supabase/ssr @supabase/supabase-js
```

そして、.dev.varsにSupabaseで使用する環境変数を記載します。  
Suapabseの環境変数はProject Setting > APIに記載されています。  

```
SUPABASE_URL=https://<project_id>.supabase.co
SUPABASE_ANON_KEY=your_anon_key
```

