---
icon: "ğŸ¨"
title: "Sassã®@importå»ƒæ­¢å¯¾å¿œã—ã¾ã—ãŸ"
date: 2025-01-26T00:00:00
description: "Sassã®@importå»ƒæ­¢å¯¾å¿œã—ã¾ã—ãŸ"
category: "sass"
tags:
  - sass
---
## ã¯ã˜ã‚ã«
ã“ã®ãƒ–ãƒ­ã‚°ã‚’`build`ã—ãŸã‚‰Sassã§ã‚¨ãƒ©ãƒ¼å‡ºã¦ã¾ã—ãŸã€‚  

```
@import "./_content.scss";
        ^^^^^^^^^^^^^^^^^
app\css\index.scss 70:11  root stylesheet

DEPRECATION WARNING: Sass @import rules are deprecated and will be removed in Dart Sass 3.0.0.
More info and automated migrator: https://sass-lang.com/d/import
```

ã©ã†ã‚„ã‚‰ã€Dart Sass 3.0.0ã§å»ƒæ­¢ã•ã‚Œã‚‹`@import`ã‚„ã€ã‚°ãƒ­ãƒ¼ãƒãƒ«çµ„ã¿è¾¼ã¿é–¢æ•°ãŒéæ¨å¥¨ã«ãªã‚‹ã‚‰ã—ã„ã®ã§ã™ã€‚  
ä¸‹è¨˜ã‚µã‚¤ãƒˆã«æ²¿ã£ã¦ãƒã‚¤ã‚°ãƒ¬ã—ãŸã®ã§ã€å‚™å¿˜éŒ²ã¨ã—ã¾ã™ã€‚    
<ExLinkCard url="https://sass-lang.com/documentation/breaking-changes/import/" title="Breaking Change: `@import` and global built-in functions"/>

## ãƒã‚¤ã‚°ãƒ¬å¯¾å¿œ
### ä½•ã‚’ã™ã‚Œã°è‰¯ã„ã®ã‹
ä»¥ä¸‹ã«å¯¾å¿œã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚  
- `@import`ãŒéæ¨å¥¨
  - `@use`ã‚„`@forward`ã«ç½®ãæ›ãˆã‚‹å¿…è¦ãŒã‚ã‚‹
- ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¹ã‚³ãƒ¼ãƒ—å¤‰æ•°ã€é–¢æ•°ãŒéæ¨å¥¨
  - å¤‰æ•°ã¯`colors.$my-variable`ã®ã‚ˆã†ã«åå‰ç©ºé–“ã‚’æŒ‡å®šã™ã‚‹å¿…è¦ãŒã‚ã‚‹  
  - çµ„ã¿è¾¼ã¿ã‚‚`map.get`ã®ã‚ˆã†ã«åå‰ç©ºé–“ã‚’æŒ‡å®šã™ã‚‹å¿…è¦ãŒã‚ã‚‹
ãªã©  

### è‡ªå‹•ãƒã‚¤ã‚°ãƒ¬ãƒ„ãƒ¼ãƒ«ã‚’å®Ÿè¡Œã—ã¦ã¿ã‚‹
ã‚ã‚ŠãŒãŸã„ã“ã¨ã«ãƒã‚¤ã‚°ãƒ¬ãƒ„ãƒ¼ãƒ«ãŒç”¨æ„ã•ã‚Œã¦ã„ãŸã®ã§å®Ÿè¡Œã—ã¦ã¿ã¾ã—ãŸã€‚  
```
npm install -g sass-migrator
sass-migrator module --migrate-deps your-entrypoint.scss
```

æ®‹å¿µãªãŒã‚‰ã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã¾ã—ãŸã€‚  
  å¤–éƒ¨ãƒ•ã‚¡ã‚¤ãƒ«ã«è¨­å®šã•ã‚Œã¦ã„ã‚‹å¤–éƒ¨å¤‰æ•°ã«ã‚¢ã‚¯ã‚»ã‚¹å‡ºæ¥ãªã„ã‚ˆã†ã§ã™ã€‚  
```
Error: This stylesheet was loaded by a nested import in index.scss. The module system only supports loading nested CSS using the load-css() mixin, which doesn't allow access to variables from the outer stylesheet.
   â•·
10 â”‚   color: $c-text-link-primary;
   â”‚          ^^^^^^^^^^^^^^^^^^^^
   â•µ
  _content.scss 10:10  root stylesheet
Migration failed!
```

### @importã®æ›¸ãæ›ãˆ
ã¾ãšã¯`@import`ã‚’`@use`ã‚„`@forward`ã«æ›¸ãæ›ãˆã‚’å®Ÿæ–½ã—ã¾ã—ãŸã€‚  
æ–‡è¨€è‡ªä½“ã¯ãŸã æ›¸ãæ›ãˆã‚Œã°è‰¯ã„ã®ã§ã™ãŒã€`@use`ã‚’ä½¿ç”¨ã™ã‚‹ã«ã‚ãŸã£ã¦ã€åˆ¥ãƒ•ã‚¡ã‚¤ãƒ«ã§å®šç¾©ã•ã‚ŒãŸå¤‰æ•°ã‚’ä½¿ã†ãŸã‚ã«ã¯`@use: "variable"`ã¨ã—ãŸã†ãˆã§`åå‰ç©ºé–“.color`ã®ã‚ˆã†ã«å¤‰æ•°ã‚’ä½¿ç”¨ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚  
ãã†ãªã‚‹ã¨ã€`index.scssï¼ˆã‚¨ãƒ³ãƒˆãƒªãƒã‚¤ãƒ³ãƒˆï¼‰`ã§å®šç¾©ã—ãŸå¤‰æ•°ã‚’`_content.scss`ã§ä½¿ç”¨ã™ã‚‹ã‚ˆã†ãªä¾å­˜é–¢ä¿‚ã¯NGã§`index.scss`â†`_content.scss`â†`_variables.scss`ã®ã‚ˆã†ãªä¾å­˜é–¢ä¿‚ã«ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚  

ä»¥ä¸‹ã¯ä»Šå›ã®ãƒã‚¤ã‚°ãƒ¬ã§å®Ÿæ–½ã—ãŸæ§‹æˆå¤‰æ›´ã§ã™ã€‚  
![sassã®æ§‹æˆ](./sass_architecture.webp)
å¤‰æ›´å‰
```scss
@import "content";
@import "embed";
@import "highlight";
```

å¤‰æ›´å¾Œ
```scss
@use "content";
@use "embed";
@use "highlight";
```
### å¤‰æ•°ã‚„mixinã®æ›¸ãæ›ãˆ
ã‚°ãƒ­ãƒ¼ãƒãƒ«ã§ãªããªã£ãŸãŸã‚ã€åˆ¥ãƒ•ã‚¡ã‚¤ãƒ«ã§å®šç¾©ã—ãŸå¤‰æ•°ã‚„mixinã‚’ä½¿ç”¨ã™ã‚‹ã«ã¯`@use`ã—ãŸã†ãˆã§åå‰ç©ºé–“ã‚’æŒ‡å®šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚  
å¤‰æ›´å‰
```scss
// å¤‰æ•°
.embed-figma {
  border: 1px solid $c-border-gray;
}
// mixin
@include mq(sm) {
  padding: 1rem 0.8rem;
  font-size: 0.85em;
}
```

å¤‰æ›´å¾Œ
```scss
// variableã‚’use
@use "variables" as variables;
// å¤‰æ•°
.embed-figma {
  border: 1px solid variables.$c-border-gray;
}
// mixin
@include variables.mq(sm) {
  padding: 1rem 0.8rem;
  font-size: 0.85em;
}
```

### ãƒ“ãƒ«ãƒ‰ã‚¤ãƒ³é–¢æ•°ã®æ›¸ãæ›ãˆ
ãƒ“ãƒ«ãƒ‰ã‚¤ãƒ³é–¢æ•°ã‚‚ã€`@use`ã§èª­ã¿è¾¼ã‚“ã§ä½¿ç”¨ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚  
ä¾‹ãˆã°`map-get`ã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™ã€‚  

å¤‰æ›´å‰
```scss
@media #{map-get($breakpoints, $size)} {
  @content;
}
```

å¤‰æ›´å¾Œ
```scss
@use "sass:map";

@media #{map.get($breakpoints, $size)} {
  @content;
}
```

ãã®ä»–ã®ãƒ“ãƒ«ãƒ‰ã‚¤ãƒ³é–¢æ•°ã«ã¤ã„ã¦ã¯Sassãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚  
<ExLinkCard url="https://sass-lang.com/documentation/modules/" title="Built-In Modules" />


## çµ‚ã‚ã‚Šã«
ãƒã‚¤ã‚°ãƒ¬è‡ªä½“ã¯ä»¥ä¸Šã§å®Œäº†ã—ã€ãƒ“ãƒ«ãƒ‰æ™‚ã®è­¦å‘Šæ–‡ã‚‚ã§ãªããªã‚Šã¾ã—ãŸã€‚  
ã“ã®ãƒ–ãƒ­ã‚°ã§è¡Œã£ãŸå¤‰æ›´ã‚’ä¸‹è¨˜ãƒªãƒ³ã‚¯ã‹ã‚‰å‚ç…§å‡ºæ¥ã¾ã™ã€‚å‚è€ƒç¨‹åº¦ã«å‚ç…§ãã ã•ã„ã€‚  
<ExLinkCard url="https://github.com/sori883/contentfulBlog/commit/2b98757ea1ddeebda2661ccc22b48e9306b4cab6" />

